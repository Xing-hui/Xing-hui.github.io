window.__require=function t(e,i,c){function n(s,r){if(!i[s]){if(!e[s]){var h=s.split("/");if(h=h[h.length-1],!e[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+s+"'")}}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,i,c)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<c.length;s++)n(c[s]);return n}({canvas:[function(t,e,i){"use strict";cc._RF.push(e,"fa5adQNwXdNC4VnP7f91oMf","canvas"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=cc.find("Canvas/main").getComponent(t("main"));this.node.once("touchstart",e.longerAction,e),this.node.once("touchend",e.removeAction,e)}}),cc._RF.pop()},{main:"main"}],gameover:[function(t,e,i){"use strict";cc._RF.push(e,"965efI8lHBENKAj+e3qCTnn","gameover"),cc.Class({extends:cc.Component,properties:{score:{default:null,type:cc.Label},button:{default:null,type:cc.Button}},onLoad:function(){var e=cc.find("Canvas/main").getComponent(t("main"));this.score.string="\u5f97\u5206\uff1a"+e.score,this.button.node.on("touchstart",function(){cc.director.loadScene("mainScene")},this)}}),cc._RF.pop()},{main:"main"}],hero:[function(t,e,i){"use strict";cc._RF.push(e,"5f5d1kYqaxEg7snzrtdTCcp","hero"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],main:[function(t,e,i){"use strict";cc._RF.push(e,"27c1aDNk8ZNvbEjC+eoleH0","main"),cc.Class({extends:cc.Component,properties:{square:{default:null,type:cc.Prefab},stick:{default:null,type:cc.Prefab},hero:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},highestLabel:{default:null,type:cc.Label},gameOver:{default:null,type:cc.Node},spriteFrame:{default:[],type:cc.SpriteFrame},background:{default:null,type:cc.Sprite},score:0,highes:0,oldSquareWidth:150},createSquare:function(){this.newSquare=cc.instantiate(this.square),this.node.addChild(this.newSquare);var t=Math.floor(100*Math.random())+50;this.newSquare.width=t;var e=Math.floor(200*Math.random())+50;this.oldSquareWidth=this.oldSquareWidth+e+t;var i=this.node.width/2+t-this.node.x,c=this.oldSquareWidth-t/2-this.node.width/2,n=this.square.data.y;this.newSquare.setPosition(i,n),this.newSquare.runAction(cc.moveTo(.5,cc.p(c,n)))},createStick:function(){this.newStick=cc.instantiate(this.stick),this.node.addChild(this.newStick);var t=this.hero.x+this.hero.width/2+this.stick.data.width/2,e=this.hero.y-this.hero.height/2;this.newStick.setPosition(t,e)},longerStick:function(){this.stickHeight+=8,this.newStick.height=this.stickHeight},longerAction:function(){this.createStick(),this.stickHeight=0,this.schedule(this.longerStick,.01),this.hero.getComponent(cc.Animation).play("heroPush")},dropStick:function(){this.scheduleOnce(function(){this.newStick.stopAllActions(),this.newStick.runAction(cc.rotateTo(.5,180).easing(cc.easeIn(3)));var t=-this.node.height/2-this.hero.height,e=this.hero.x;this.hero.stopAllActions(),this.hero.runAction(cc.moveTo(.5,cc.p(e,t)).easing(cc.easeIn(3)))},.5)},undueStick:function(){this.scheduleOnce(function(){this.node.stopAllActions(),this.node.runAction(cc.moveBy(.5,cc.p(-this.newSquare.getBoundingBoxToWorld().x,0))),this.createSquare()},.5)},removeAction:function(){this.unschedule(this.longerStick),this.hero.getComponent(cc.Animation).play("heroTick"),this.scheduleOnce(function(){var e=cc.sequence(cc.rotateTo(.5,90).easing(cc.easeIn(3)),cc.callFunc(function(){var e=this.newStick.x+this.newStick.height,i=this.newSquare.x-this.newSquare.width/2,c=this.newSquare.x+this.newSquare.width/2;if(e>=i&&e<=c){var n=c-this.newStick.width-this.hero.width/2,o=this.hero.y;this.hero.runAction(cc.moveTo(.5,cc.p(n,o))),this.undueStick(),this.score++,this.scoreLabel.string="\u5f97\u5206\uff1a"+this.score;var s=cc.find("Canvas").getComponent(t("canvas"));this.scheduleOnce(function(){s.node.once("touchstart",this.longerAction,this),s.node.once("touchend",this.removeAction,this)},.5)}else{n=e-this.hero.width/2,o=this.hero.y;this.hero.runAction(cc.moveTo(.5,cc.p(n,o))),this.dropStick(),this.highes<this.score&&(cc.sys.localStorage.stickHero=this.score),this.gameOver.active=!0}},this));this.newStick.runAction(e)},.2)},onLoad:function(){var t=Math.floor(3*Math.random());this.background.spriteFrame=this.spriteFrame[t],cc.sys.localStorage.stickHero&&(this.highes=cc.sys.localStorage.stickHero),this.highestLabel.string="\u6700\u9ad8\u5206\uff1a"+this.highes,this.createSquare()}}),cc._RF.pop()},{canvas:"canvas"}],start:[function(t,e,i){"use strict";cc._RF.push(e,"db007Ff6xVJJ5C2/dgoKY/x","start"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchstart",function(){cc.director.loadScene("mainScene")})}}),cc._RF.pop()},{}]},{},["canvas","gameover","hero","main","start"]);